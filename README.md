# **Консоль запросов + кода (управляемый)**


Возможности:



**Версия (Monaco): Подключен редактор VSCode!**


Общее:

1. Сохранение списка в файл / восстановление из файла
    1.1. Хранение алгоритмов в дереве
2. Настройка шрифта области алгоритмов

Запросы:

1. Конструктор запроса в управляемом режиме
2. Выполнение пакета запросов - просмотр результатов временных таблиц
    2.1. При выборе временной таблицы - позиционирование в тексте запроса
3. Выполнение выделенного текста запроса
4. Подготовка запроса к переносу в код / из кода
5. Статистика выполнения запроса

Выполнение кода

1. НаКлиенте / НаСервере / В потоках
2. Обработчик результата на форме (сниппеты работы с результатом)
3. Фоновое выполнение Алгоритма: Необходимо добавить процедуру в 	ОбщийМодуль.ОбщегоНазначенияПереопределяемый
4. Отображение ошибки в строке кода
5. Значения переменных в коде


```
// Переопределение процедуры для выполнения Алгоритма в фоновом задании, т.к. на вход идет (Структура, АдресРезультата)
// Выполняет произвольный алгоритм на встроенном языке 1С:Предприятия, предварительно устанавливая
//  безопасный режим выполнения кода и безопасный режим разделения данных для всех разделителей,
//  присутствующих в составе конфигурации.
//
// Параметры:
//  Параметры - Структура - Ключи
//      * Алгоритм - Строка - алгоритм на встроенном языке 1С:Предприятия.
//      * ДополнительныеПараметры - Произвольный - Параметры для работы алгоритма.
//  АдресРезультата - Произвольный -  контекст, который требуется для выполнения алгоритмы.
//    В тексте алгоритма обращение к контексту должно происходить по имени "ДополнительныеПараметры".
//    Например, выражение "ДополнительныеПараметры.Значение1 = ДополнительныеПараметры.Значение2" обращается к значениям
//    "Значение1" и "Значение2" переданные в ДополнительныеПараметры, как свойства.
//
// Пример:
//
//  ПараметрыОбработки = Новый Структура;
//  ПараметрыОбработки.Вставить("Алгоритм", Алгоритм); // Алгоритм
//  ПараметрыОбработки.Вставить("ДополнительныеПараметры", Новый Структура("Данные", Порция)); // ДополнительныеПараметры
//
//  ДлительнаяОперация = ЗапуститьДлительнуюОперацию(УникальныйИдентификаторЗадания, ПараметрыОбработки);
//
Процедура ВыполнитьВБезопасномРежиме(Знач Параметры, АдресРезультата = Неопределено) Экспорт
    Перем Алгоритм, ДополнительныеПараметры;

	УстановитьБезопасныйРежим(Истина);

    Параметры.Свойство("Алгоритм", Алгоритм);
    Параметры.Свойство("ДополнительныеПараметры", ДополнительныеПараметры);

    Если Не ЗначениеЗаполнено(Алгоритм) Тогда
        Возврат;
    КонецЕсли;

	Выполнить Алгоритм;

КонецПроцедуры
```


**Работа с результатом**

1. Выгрузка / загрузка в файл / из файла
2. Форматы csv / txt / dump
3. Итоги по числовым колонкам; количество по колонке №строки
4. Работа с результатами: ТЗ и Деревом
5. Отображение и просмотр Хранилищ/ТЗ в колонке


